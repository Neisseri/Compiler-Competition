--------------------------- building ast ---------------------------
parse tree: 
(compUnit 
        (compUnitItem 
            (funcDef 
                (funcType 
                    (bType int)) get_one ( 
                (funcFParams 
                    (funcFParam 
                        (bType int) a)) ) 
                (block { 
                    (blockItem 
                        (stmt return 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp 
                                            (primaryExp 
                                                (number 
                                                    (intConst 1))))))) ;)) }))) 
        (compUnitItem 
            (funcDef 
                (funcType 
                    (bType int)) deepWhileBr ( 
                (funcFParams 
                    (funcFParam 
                        (bType int) a) , 
                    (funcFParam 
                        (bType int) b)) ) 
                (block { 
                    (blockItem 
                        (decl 
                            (varDecl 
                                (bType int) 
                                (varDef c) ;))) 
                    (blockItem 
                        (stmt 
                            (lVal c) = 
                            (exp 
                                (addExp 
                                    (addExp 
                                        (mulExp 
                                            (unaryExp 
                                                (primaryExp 
                                                    (lVal a))))) + 
                                    (mulExp 
                                        (unaryExp 
                                            (primaryExp 
                                                (lVal b)))))) ;)) 
                    (blockItem 
                        (stmt while ( 
                            (cond 
                                (lOrExp 
                                    (lAndExp 
                                        (eqExp 
                                            (relExp 
                                                (relExp 
                                                    (addExp 
                                                        (mulExp 
                                                            (unaryExp 
                                                                (primaryExp 
                                                                    (lVal c)))))) < 
                                                (addExp 
                                                    (mulExp 
                                                        (unaryExp 
                                                            (primaryExp 
                                                                (number 
                                                                    (intConst 75))))))))))) ) 
                            (stmt 
                                (block { 
                                    (blockItem 
                                        (decl 
                                            (varDecl 
                                                (bType int) 
                                                (varDef d) ;))) 
                                    (blockItem 
                                        (stmt 
                                            (lVal d) = 
                                            (exp 
                                                (addExp 
                                                    (mulExp 
                                                        (unaryExp 
                                                            (primaryExp 
                                                                (number 
                                                                    (intConst 42))))))) ;)) 
                                    (blockItem 
                                        (stmt if ( 
                                            (cond 
                                                (lOrExp 
                                                    (lAndExp 
                                                        (eqExp 
                                                            (relExp 
                                                                (relExp 
                                                                    (addExp 
                                                                        (mulExp 
                                                                            (unaryExp 
                                                                                (primaryExp 
                                                                                    (lVal c)))))) < 
                                                                (addExp 
                                                                    (mulExp 
                                                                        (unaryExp 
                                                                            (primaryExp 
                                                                                (number 
                                                                                    (intConst 100))))))))))) ) 
                                            (stmt 
                                                (block { 
                                                    (blockItem 
                                                        (stmt 
                                                            (lVal c) = 
                                                            (exp 
                                                                (addExp 
                                                                    (addExp 
                                                                        (mulExp 
                                                                            (unaryExp 
                                                                                (primaryExp 
                                                                                    (lVal c))))) + 
                                                                    (mulExp 
                                                                        (unaryExp 
                                                                            (primaryExp 
                                                                                (lVal d)))))) ;)) 
                                                    (blockItem 
                                                        (stmt if ( 
                                                            (cond 
                                                                (lOrExp 
                                                                    (lAndExp 
                                                                        (eqExp 
                                                                            (relExp 
                                                                                (relExp 
                                                                                    (addExp 
                                                                                        (mulExp 
                                                                                            (unaryExp 
                                                                                                (primaryExp 
                                                                                                    (lVal c)))))) > 
                                                                                (addExp 
                                                                                    (mulExp 
                                                                                        (unaryExp 
                                                                                            (primaryExp 
                                                                                                (number 
                                                                                                    (intConst 99))))))))))) ) 
                                                            (stmt 
                                                                (block { 
                                                                    (blockItem 
                                                                        (decl 
                                                                            (varDecl 
                                                                                (bType int) 
                                                                                (varDef e) ;))) 
                                                                    (blockItem 
                                                                        (stmt 
                                                                            (lVal e) = 
                                                                            (exp 
                                                                                (addExp 
                                                                                    (mulExp 
                                                                                        (mulExp 
                                                                                            (unaryExp 
                                                                                                (primaryExp 
                                                                                                    (lVal d)))) * 
                                                                                        (unaryExp 
                                                                                            (primaryExp 
                                                                                                (number 
                                                                                                    (intConst 2))))))) ;)) 
                                                                    (blockItem 
                                                                        (stmt if ( 
                                                                            (cond 
                                                                                (lOrExp 
                                                                                    (lAndExp 
                                                                                        (eqExp 
                                                                                            (eqExp 
                                                                                                (relExp 
                                                                                                    (addExp 
                                                                                                        (mulExp 
                                                                                                            (unaryExp get_one ( 
                                                                                                                (funcRParams 
                                                                                                                    (funcRParam 
                                                                                                                        (exp 
                                                                                                                            (addExp 
                                                                                                                                (mulExp 
                                                                                                                                    (unaryExp 
                                                                                                                                        (primaryExp 
                                                                                                                                            (number 
                                                                                                                                                (intConst 0))))))))) )))))) == 
                                                                                            (relExp 
                                                                                                (addExp 
                                                                                                    (mulExp 
                                                                                                        (unaryExp 
                                                                                                            (primaryExp 
                                                                                                                (number 
                                                                                                                    (intConst 1))))))))))) ) 
                                                                            (stmt 
                                                                                (block { 
                                                                                    (blockItem 
                                                                                        (stmt 
                                                                                            (lVal c) = 
                                                                                            (exp 
                                                                                                (addExp 
                                                                                                    (mulExp 
                                                                                                        (mulExp 
                                                                                                            (unaryExp 
                                                                                                                (primaryExp 
                                                                                                                    (lVal e)))) * 
                                                                                                        (unaryExp 
                                                                                                            (primaryExp 
                                                                                                                (number 
                                                                                                                    (intConst 2))))))) ;)) })))) })))) })))) })))) 
                    (blockItem 
                        (stmt return 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp 
                                            (primaryExp ( 
                                                (exp 
                                                    (addExp 
                                                        (mulExp 
                                                            (unaryExp 
                                                                (primaryExp 
                                                                    (lVal c)))))) )))))) ;)) }))) 
        (compUnitItem 
            (funcDef 
                (funcType 
                    (bType int)) main ( ) 
                (block { 
                    (blockItem 
                        (decl 
                            (varDecl 
                                (bType int) 
                                (varDef p) ;))) 
                    (blockItem 
                        (stmt 
                            (lVal p) = 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp 
                                            (primaryExp 
                                                (number 
                                                    (intConst 2))))))) ;)) 
                    (blockItem 
                        (stmt 
                            (lVal p) = 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp deepWhileBr ( 
                                            (funcRParams 
                                                (funcRParam 
                                                    (exp 
                                                        (addExp 
                                                            (mulExp 
                                                                (unaryExp 
                                                                    (primaryExp 
                                                                        (lVal p))))))) , 
                                                (funcRParam 
                                                    (exp 
                                                        (addExp 
                                                            (mulExp 
                                                                (unaryExp 
                                                                    (primaryExp 
                                                                        (lVal p)))))))) ))))) ;)) 
                    (blockItem 
                        (stmt 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp putint ( 
                                            (funcRParams 
                                                (funcRParam 
                                                    (exp 
                                                        (addExp 
                                                            (mulExp 
                                                                (unaryExp 
                                                                    (primaryExp 
                                                                        (lVal p)))))))) ))))) ;)) 
                    (blockItem 
                        (stmt return 
                            (exp 
                                (addExp 
                                    (mulExp 
                                        (unaryExp 
                                            (primaryExp 
                                                (number 
                                                    (intConst 0))))))) ;)) }))) <EOF>)
visitCompUnit
visitCompUnit: funcDef
construct funct block: get_one
visitPrimaryExp_ number
visitBlock done!
construct funct block done!
visitCompUnit: funcDef
construct funct block: deepWhileBr
visitVarDecl: int start
visitVarDecl: ident: c
visitAssign done!
visitPrimaryExp_ number
visit block stmt
visitVarDecl: int start
visitVarDecl: ident: d
visitPrimaryExp_ number
visitAssign done!
visitPrimaryExp_ number
visit block stmt
visitAssign done!
visitPrimaryExp_ number
visit block stmt
visitVarDecl: int start
visitVarDecl: ident: e
visitPrimaryExp_ number
visitAssign done!
visitCall ident: get_one
visitFuncRParams
visitPrimaryExp_ number
visitCall args_list size: 1
visitPrimaryExp_ number
visit block stmt
visitPrimaryExp_ number
visitAssign done!
visitBlock done!
visitBlock done!
visitBlock done!
visitBlock done!
visitPrimaryExp_ exp
visitBlock done!
construct funct block done!
visitCompUnit: funcDef
construct funct block: main
visitVarDecl: int start
visitVarDecl: ident: p
visitPrimaryExp_ number
visitAssign done!
visitCall ident: deepWhileBr
visitFuncRParams
visitCall args_list size: 2
visitAssign done!
visitExprStmt
visitCall ident: putint
visitFuncRParams
visitCall args_list size: 1
visitPrimaryExp_ number
visitBlock done!
construct funct block done!
visitCompUnit end create new program
visitCompUnit end create new program end
------------------------------type check------------------------------
Info: visitProgramProgram
Info: visitFuncDefi32 @get_one(i32 @a)
Info: visitParamDefi32 @a
Info: visitBlock
Info: visitStatementReturn 1
Info: visitExpr1
Info: visitIntLiteralExpr1
ret->type 0x5620aaa4b420
Info: visitReturnStmtReturn 1function has returnscope id1
Info: visitFuncDefi32 @deepWhileBr(i32 @a, i32 @b)
Info: visitParamDefi32 @a
Info: visitParamDefi32 @b
Info: visitBlock
Info: visitVarDef i32 @c
Info: visitStatementAssign@c = @a+@b
Info: visitAssignStmtAssign@c = @a+@b
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitAssignStmti32
Info: visitExpr@a+@b
Info: visitBinopExpr@a+@b
Info: visitExpr@a
Info: visitLvalExpr@a
Info: visitExpr@b
Info: visitLvalExpr@b
Info: visitStatementWhile
Info: visitExpr@c<75
Info: visitBinopExpr@c<75
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitExpr75
Info: visitIntLiteralExpr75
ret->type 0x5620aaa4b4d0
Info: visitStatement
Info: visitBlock
Info: visitVarDef i32 @d
Info: visitStatementAssign@d = 42
Info: visitAssignStmtAssign@d = 42
Info: visitExpr@d
Info: visitLvalExpr@d
Info: visitAssignStmti32
Info: visitExpr42
Info: visitIntLiteralExpr42
ret->type 0x5620aaa4b2e0
Info: visitStatementIfElse
Info: visitExpr@c<100
Info: visitBinopExpr@c<100
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitExpr100
Info: visitIntLiteralExpr100
ret->type 0x5620aaa4b450
Info: visitStatement
Info: visitBlock
Info: visitStatementAssign@c = @c+@d
Info: visitAssignStmtAssign@c = @c+@d
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitAssignStmti32
Info: visitExpr@c+@d
Info: visitBinopExpr@c+@d
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitExpr@d
Info: visitLvalExpr@d
Info: visitStatementIfElse
Info: visitExpr@c>99
Info: visitBinopExpr@c>99
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitExpr99
Info: visitIntLiteralExpr99
ret->type 0x5620aaa4b6e0
Info: visitStatement
Info: visitBlock
Info: visitVarDef i32 @e
Info: visitStatementAssign@e = @d*2
Info: visitAssignStmtAssign@e = @d*2
Info: visitExpr@e
Info: visitLvalExpr@e
Info: visitAssignStmti32
Info: visitExpr@d*2
Info: visitBinopExpr@d*2
Info: visitExpr@d
Info: visitLvalExpr@d
Info: visitExpr2
Info: visitIntLiteralExpr2
ret->type 0x5620aaa4b760
Info: visitStatementIfElse
Info: visitExprCall @get_one(0)==1
Info: visitBinopExprCall @get_one(0)==1
Info: visitExprCall @get_one(0)
Info: visiCalltExprCall @get_one(0)
Info: visitExpr0
Info: visitIntLiteralExpr0
ret->type 0x5620aaa4b7e0
Info: visitExpr1
Info: visitIntLiteralExpr1
ret->type 0x5620aaa4b860
Info: visitStatement
Info: visitBlock
Info: visitStatementAssign@c = @e*2
Info: visitAssignStmtAssign@c = @e*2
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitAssignStmti32
Info: visitExpr@e*2
Info: visitBinopExpr@e*2
Info: visitExpr@e
Info: visitLvalExpr@e
Info: visitExpr2
Info: visitIntLiteralExpr2
ret->type 0x5620aaa4b890
Info: visitStatementReturn @c
Info: visitExpr@c
Info: visitLvalExpr@c
Info: visitReturnStmtReturn @c#4function has returnscope id3
Info: visitFuncDefi32 @main()
Info: visitBlock
Info: visitVarDef i32 @p
Info: visitStatementAssign@p = 2
Info: visitAssignStmtAssign@p = 2
Info: visitExpr@p
Info: visitLvalExpr@p
Info: visitAssignStmti32
Info: visitExpr2
Info: visitIntLiteralExpr2
ret->type 0x5620aaa4b8c0
Info: visitStatementAssign@p = Call @deepWhileBr(@p, @p)
Info: visitAssignStmtAssign@p = Call @deepWhileBr(@p, @p)
Info: visitExpr@p
Info: visitLvalExpr@p
Info: visitAssignStmti32
Info: visitExprCall @deepWhileBr(@p, @p)
Info: visiCalltExprCall @deepWhileBr(@p, @p)
Info: visitExpr@p
Info: visitLvalExpr@p
Info: visitExpr@p
Info: visitLvalExpr@p
Info: visitStatementCall @putint(@p)
Info: visitExprStmtCall @putint(@p)
Info: visitExprCall @putint(@p)
Info: visiCalltExprCall @putint(@p)
Info: use of undeclared function putint
Info: visitExpr@p
Info: visitLvalExpr@p
Info: visitStatementReturn 0
Info: visitExpr0
Info: visitIntLiteralExpr0
ret->type 0x5620aaa4b950
Info: visitReturnStmtReturn 0function has returnscope id10
--------------------------- building ir ---------------------------
visitProgram
visitFunction get_one
visitFunction param decl: a#1
visitBlock 
visitStatement
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
function get_one has 3 regs
B0:
  prev: 
  succ: 
B1:
  prev: 
  succ: 

B0:
  prev: 
  succ: 

entryB0
reverse_postorderB0
B0:
  doms: 
  domed_by: B0 

B0:
  DF: 

visitFunction deepWhileBr
visitFunction param decl: a#3
visitFunction param decl: b#3
visitBlock 
visitStatement
visitExpression
visitExpression
visitExpressionLValue a#3
visitExpression
visitExpressionLValue b#3
visitStatement
visitExpression
visitExpression
visitExpressionLValue c#4
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitBlock 
visitStatement
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitExpression
visitExpression
visitExpressionLValue c#4
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitBlock 
visitStatement
visitExpression
visitExpression
visitExpressionLValue c#4
visitExpression
visitExpressionLValue d#6
visitStatement
visitExpression
visitExpression
visitExpressionLValue c#4
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitBlock 
visitStatement
visitExpression
visitExpression
visitExpressionLValue d#6
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitExpression
visitExpression
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitBlock 
visitStatement
visitExpression
visitExpression
visitExpressionLValue e#8
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitExpression
visitExpressionLValue c#4
function deepWhileBr has 34 regs
B2:
  prev: 
  succ: B3 
B3:
  prev: B2 B8 
  succ: B4 B5 
B4:
  prev: B3 
  succ: B6 
B5:
  prev: B3 
  succ: 
B6:
  prev: B4 
  succ: B7 B8 
B7:
  prev: B6 
  succ: B9 
B8:
  prev: B6 B11 
  succ: B3 
B9:
  prev: B7 
  succ: B10 B11 
B10:
  prev: B9 
  succ: B12 
B11:
  prev: B9 B14 
  succ: B8 
B12:
  prev: B10 
  succ: B13 B14 
B13:
  prev: B12 
  succ: B14 
B14:
  prev: B12 B13 
  succ: B11 
B15:
  prev: 
  succ: 

B2:
  prev: 
  succ: B3 
B3:
  prev: B2 B8 
  succ: B4 B5 
B4:
  prev: B3 
  succ: B6 
B5:
  prev: B3 
  succ: 
B6:
  prev: B4 
  succ: B7 B8 
B7:
  prev: B6 
  succ: B9 
B8:
  prev: B6 B11 
  succ: B3 
B9:
  prev: B7 
  succ: B10 B11 
B10:
  prev: B9 
  succ: B12 
B11:
  prev: B9 B14 
  succ: B8 
B12:
  prev: B10 
  succ: B13 B14 
B13:
  prev: B12 
  succ: B14 
B14:
  prev: B12 B13 
  succ: B11 

entryB2
B3
B4
B5
B6
B7
B8
B9
B10
B11
B12
B13
B14
reverse_postorderB2
reverse_postorderB3
reverse_postorderB5
reverse_postorderB4
reverse_postorderB6
reverse_postorderB7
reverse_postorderB9
reverse_postorderB10
reverse_postorderB12
reverse_postorderB13
reverse_postorderB14
reverse_postorderB11
reverse_postorderB8
reverse_postorderB2
reverse_postorderB3
reverse_postorderB5
reverse_postorderB4
reverse_postorderB6
reverse_postorderB7
reverse_postorderB9
reverse_postorderB10
reverse_postorderB12
reverse_postorderB13
reverse_postorderB14
reverse_postorderB11
reverse_postorderB8
compute_dom_fro bb: B3 func: deepWhileBr
compute_dom_fro bb: B3 func: deepWhileBr
compute_dom_fro bb: B3 func: deepWhileBr
compute_dom_fro bb: B8 func: deepWhileBr
compute_dom_fro bb: B8 func: deepWhileBr
compute_dom_fro bb: B8 func: deepWhileBr
compute_dom_fro bb: B11 func: deepWhileBr
compute_dom_fro bb: B11 func: deepWhileBr
compute_dom_fro bb: B11 func: deepWhileBr
compute_dom_fro bb: B14 func: deepWhileBr
B2:
  doms: B3 
  domed_by: B2 
B3:
  doms: B4 B5 
  domed_by: B2 B3 
B4:
  doms: B6 
  domed_by: B2 B3 B4 
B5:
  doms: 
  domed_by: B2 B3 B5 
B6:
  doms: B7 B8 
  domed_by: B2 B3 B4 B6 
B7:
  doms: B9 
  domed_by: B2 B3 B4 B6 B7 
B8:
  doms: 
  domed_by: B2 B3 B4 B6 B8 
B9:
  doms: B10 B11 
  domed_by: B2 B3 B4 B6 B7 B9 
B10:
  doms: B12 
  domed_by: B2 B3 B4 B6 B7 B9 B10 
B11:
  doms: 
  domed_by: B2 B3 B4 B6 B7 B9 B11 
B12:
  doms: B13 B14 
  domed_by: B2 B3 B4 B6 B7 B9 B10 B12 
B13:
  doms: 
  domed_by: B2 B3 B4 B6 B7 B9 B10 B12 B13 
B14:
  doms: 
  domed_by: B2 B3 B4 B6 B7 B9 B10 B12 B14 

B2:
  DF: 
B3:
  DF: 
B4:
  DF: B3 
B5:
  DF: 
B6:
  DF: B3 
B7:
  DF: B8 
B8:
  DF: B3 
B9:
  DF: B8 
B10:
  DF: B11 
B11:
  DF: B8 
B12:
  DF: B11 
B13:
  DF: B14 
B14:
  DF: B11 

visitFunction main
visitBlock 
visitStatement
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
visitStatement
visitExpression
visitExpression
visitExpressionLValue p#11
visitExpression
visitExpressionLValue p#11
visitStatement
visitExpression
visitExpression
visitExpressionLValue p#11
visitStatement
visitExpression
visitExpressionintliteral
visitExpressionintliteral done
function main has 8 regs
B16:
  prev: 
  succ: 
B17:
  prev: 
  succ: 

B16:
  prev: 
  succ: 

entryB16
reverse_postorderB16
B16:
  doms: 
  domed_by: B16 

B16:
  DF: 

ir:
; module
define i32 @main(){
B16:
  %r1 = alloca i32, i32 4
  %r2 = add i32 0, 2 ; loadint
  store i32 %r2, ptr %r1
  %r4 = load i32, ptr %r1
  %r5 = load i32, ptr %r1
  %r3 = call i32 @deepWhileBr(i32 %r4, i32 %r5)
  store i32 %r3, ptr %r1
  %r7 = load i32, ptr %r1
  %r6 = call i32 @putint(i32 %r7)
  %r8 = add i32 0, 0 ; loadint
  ret i32 %r8

}
define i32 @deepWhileBr(i32 %r1, i32 %r2){
B2:
  %r3 = alloca i32, i32 4
  store i32 %r1, ptr %r3
  %r4 = alloca i32, i32 4
  store i32 %r2, ptr %r4
  %r5 = alloca i32, i32 4
  %r6 = load i32, ptr %r3
  %r7 = load i32, ptr %r4
  %r8 = add i32 %r6, %r7
  store i32 %r8, ptr %r5
  br label %B3

B3:
  %r9 = load i32, ptr %r5
  %r10 = add i32 0, 75 ; loadint
  %r11 = icmp slt i32 %r9, %r10
  br i1 %r11, label %B4, label %B5

B4:
  %r12 = alloca i32, i32 4
  %r13 = add i32 0, 42 ; loadint
  store i32 %r13, ptr %r12
  br label %B6

B5:
  %r34 = load i32, ptr %r5
  ret i32 %r34

B6:
  %r14 = load i32, ptr %r5
  %r15 = add i32 0, 100 ; loadint
  %r16 = icmp slt i32 %r14, %r15
  br i1 %r16, label %B7, label %B8

B7:
  %r17 = load i32, ptr %r5
  %r18 = load i32, ptr %r12
  %r19 = add i32 %r17, %r18
  store i32 %r19, ptr %r5
  br label %B9

B8:
  br label %B3

B9:
  %r20 = load i32, ptr %r5
  %r21 = add i32 0, 99 ; loadint
  %r22 = icmp sgt i32 %r20, %r21
  br i1 %r22, label %B10, label %B11

B10:
  %r23 = alloca i32, i32 4
  %r24 = load i32, ptr %r12
  %r25 = add i32 0, 2 ; loadint
  %r26 = mul i32 %r24, %r25
  store i32 %r26, ptr %r23
  br label %B12

B11:
  br label %B8

B12:
  %r28 = add i32 0, 0 ; loadint
  %r27 = call i32 @get_one(i32 %r28)
  %r29 = add i32 0, 1 ; loadint
  %r30 = icmp eq i32 %r27, %r29
  br i1 %r30, label %B13, label %B14

B13:
  %r31 = load i32, ptr %r23
  %r32 = add i32 0, 2 ; loadint
  %r33 = mul i32 %r31, %r32
  store i32 %r33, ptr %r5
  br label %B14

B14:
  br label %B11

}
define i32 @get_one(i32 %r1){
B0:
  %r2 = alloca i32, i32 4
  store i32 %r1, ptr %r2
  %r3 = add i32 0, 1 ; loadint
  ret i32 %r3

}
--------------------------- building riscv ---------------------------
riscv: 
    addi T[-1], sp, 48
    li T[-2], 2
    sw T[-2], 0(T[-1])
    lw T[-4], 0(T[-1])
    lw T[-5], 0(T[-1])
    mv a1, T[-4]
    mv a2, T[-5]
    call deepWhileBr
    mv T[-3], a0
    sw T[-3], 0(T[-1])
    lw T[-7], 0(T[-1])
    mv a0, T[-7]
    call putint
    mv T[-6], a0
    li T[-8], 0
    mv a0, T[-8]
    ret
    addi T[-3], sp, 56
    sw a1, 0(T[-3])
    addi T[-4], sp, 60
    sw a2, 0(T[-4])
    addi T[-5], sp, 64
    lw T[-6], 0(T[-3])
    lw T[-7], 0(T[-4])
    add T[-8], T[-6], T[-7]
    sw T[-8], 0(T[-5])
    j B4
    lw T[-9], 0(T[-5])
    li T[-10], 75
    slt T[-11], T[-9], T[-10]
    beq x0, T[-11], B6
    j B5
    addi T[-12], sp, 68
    li T[-13], 42
    sw T[-13], 0(T[-12])
    j B7
    lw T[-34], 0(T[-5])
    mv a0, T[-34]
    ret
    lw T[-14], 0(T[-5])
    li T[-15], 100
    slt T[-16], T[-14], T[-15]
    beq x0, T[-16], B9
    j B8
    lw T[-17], 0(T[-5])
    lw T[-18], 0(T[-12])
    add T[-19], T[-17], T[-18]
    sw T[-19], 0(T[-5])
    j B10
    j B4
    lw T[-20], 0(T[-5])
    li T[-21], 99
    sgt T[-22], T[-20], T[-21]
    beq x0, T[-22], B12
    j B11
    addi T[-23], sp, 72
    lw T[-24], 0(T[-12])
    li T[-25], 2
    mul T[-26], T[-24], T[-25]
    sw T[-26], 0(T[-23])
    j B13
    j B9
    li T[-28], 0
    sw a1, 48(sp)
    sw a2, 52(sp)
    mv a1, T[-28]
    call get_one
    mv T[-27], a0
    lw a1, 48(sp)
    lw a2, 52(sp)
    li T[-29], 1
    sub T[-30], T[-27], T[-29]
    seqz T[-30], T[-30]
    beq x0, T[-30], B15
    j B14
    lw T[-31], 0(T[-23])
    li T[-32], 2
    mul T[-33], T[-31], T[-32]
    sw T[-33], 0(T[-5])
    j B15
    j B12
    addi T[-2], sp, 52
    sw a1, 0(T[-2])
    li T[-3], 1
    mv a0, T[-3]
    ret
?
get_one
get_one Main()
get_one
after compute reg_used
after prologue
end of emitend
deepWhileBr
deepWhileBr Main()
deepWhileBr
after compute reg_used
after prologue
end of emitend
main
main Main()
main
after compute reg_used
after prologue
end of emitend
